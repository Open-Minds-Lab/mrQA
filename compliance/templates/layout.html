<!DOCTYPE html>
<html lang="en">
<head lang="en">
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="style.css">
    <title> {{ title }} </title>
</head>
<body>

{#<table class="tg" id="documentation">#}
{#<thead>#}
{#  <tr>#}
{#    <th class="tg-c3ow" colspan="4">Report Documentation Page</th>#}
{#    <th class="tg-0pky" colspan="2">No. </th>#}
{#  </tr>#}
{#</thead>#}
{#<tbody>#}
{#  <tr>#}
{#    <td class="tg-0pky" colspan="2">1. REPORT DATE</td>#}
{#    <td class="tg-0pky" colspan="2">2. REPORT TYPE</td>#}
{#    <td class="tg-0pky" colspan="2">3.</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="4" rowspan="3">4. PROJECT TITLE {{project.id}}</td>#}
{#    <td class="tg-0lax" colspan="2">5a. Project Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0pky" colspan="2">5b. Project Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="2">5c. Project Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="4" rowspan="2">6. PERFORMING ORGANIZATION</td>#}
{#    <td class="tg-0lax" colspan="2">7. Org. Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="2">8. Org. Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="4">9. SPONSORING AGENCY</td>#}
{#    <td class="tg-0lax" colspan="2">10. Sponsor Properties</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="4">11. DISTRIBUTION/AVAILABILITY STATEMENT</td>#}
{#    <td class="tg-0lax" colspan="2"></td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="4">12. SUPPLEMENTARY NOTES</td>#}
{#    <td class="tg-0lax" colspan="2"></td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="6">13. ADDITIONAL NOTE</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="6">14. ADDITIONAL NOTE</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax" colspan="6">15. ADDITIONAL NOTE</td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0pky" colspan="3">16. SECURITY CLASSIFICATION OF</td>#}
{#    <td class="tg-0pky" rowspan="2">17. LIMITATIONS</td>#}
{#    <td class="tg-0pky" rowspan="2">18. NUMBER OF PAGES</td>#}
{#    <td class="tg-0lax" rowspan="2">19. CONTACT </td>#}
{#  </tr>#}
{#  <tr>#}
{#    <td class="tg-0lax">16a. REPORT</td>#}
{#    <td class="tg-0lax">16b. THIS PAGE</td>#}
{#    <td class="tg-0lax">16c. PROJECT#}
{##}
{#    </td>#}
{#  </tr>#}
{#</tbody>#}
{#</table>#}

{% for sub in project.children %}
<h2>Subject Id : {{sub.id}}</h2>
    <table class="tg" id="good_sessions">
<thead>
  <tr>
    <th class="tg-c3ow" colspan="4">Good Sessions</th>
      {% for k in sub.good_sessions[0].keys()%}
        <th class="tg-0pky" colspan="2">{{k}}</th>
      {% endfor %}
  </tr>
</thead>
<tbody>
{% for sess in sub.good_sessions %}
  <tr>
      <td class="tg-0pky" colspan="4">{{ sess.filepath }}</td>
      {% for k in sess.keys()%}
        <td class="tg-0pky" colspan="2">{{sess[k]}}</td>
      {% endfor %}
  </tr>
{% endfor %}
</tbody>
</table>
{% if sub.bad_sessions %}
    <table class="tg" id="bad_sessions">
<thead>
  <tr>
    <th class="tg-c3ow" colspan="4">Bad Sessions</th>
      {% for k in sub.bad_sessions[0].keys() %}
        <th class=""tg=-0pky" colspan="2">{{k}}</th>
      {% endfor %}
  </tr>
</thead>
<tbody>
    {% for sess in sub.bad_sessions %}
        {% if not sess.error %}
            <tr>
            <td class="tg-0pky" colspan="4">{{sess.filepath}}</td>
            {% for k in sess.keys() %}
              <td class="tg-0pky" colspan="2">{{sess[k]}}</td>
            {% endfor %}
            </tr>

            {% for dcm_node in sess.children %}
            {% if dcm_node.delta %}
            <tr>
              <td class="tg-0pky" colspan="4">{{ dcm_node.filepath.name }}</td>
              {% for k in dcm_node.keys() %}
                {% set ns = namespace(flag=false) %}
                {% for e in dcm_node.delta %}
                  {% if k == e[1] %}
                    {% set ns.flag = true %}
                    {% break %}
                  {% endif %}
                {% endfor %}
                {% if ns.flag%}
                <td class="tg-color" colspan="2">{{dcm_node[k]}}</td>
                {% else %}
                <td class="tg-0pky" colspan="2">{{dcm_node[k]}}</td>
                {% endif %}
              {% endfor %}
            </tr>
            {% endif %}
            {% endfor %}
        {% endif %}
    {% endfor %}
</tbody>
</table>


    <table class="tg" id="invalid_sessions">
<thead>
  <tr>
    <th class="tg-c3ow" colspan="4">Invalid Sessions</th>
      {# {% for k in bad_sessions[0].keys()%} #}
      {#   <th class="tg-0pky" colspan="2">{{k}}</th> #}
      {# {% endfor %} #}
  </tr>
</thead>
<tbody>
{% for sess in sub.bad_sessions %}
  {% if sess.error %}
  <tr>
      <td class="tg-0pky" colspan="4">{{ sess.filepath }}</td>
<!--      {% for k in sess.keys()%}-->
<!--        <td class="tg-0pky" colspan="2">{{sess[k]}}</td>-->
<!--      {% endfor %}-->
  </tr>
  {% endif %}
{% endfor %}
</tbody>
</table>
{% endif %}
{% endfor %}
</body>
</html>
